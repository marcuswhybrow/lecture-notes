

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>01 - Internetworking &mdash; Lecture Notes v1.0 documentation</title>
    <link rel="stylesheet" href="../../../../../static/default.css" type="text/css" />
    <link rel="stylesheet" href="../../../../../static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../../../',
        VERSION:     '1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../../../../static/jquery.js"></script>
    <script type="text/javascript" src="../../../../../static/underscore.js"></script>
    <script type="text/javascript" src="../../../../../static/doctools.js"></script>
    <link rel="top" title="Lecture Notes v1.0 documentation" href="../../../../../index.html" />
    <link rel="up" title="G54ACC Advanced Computer Communications" href="../index.html" />
    <link rel="next" title="02 - Multiplexing" href="02.html" />
    <link rel="prev" title="G54ACC Advanced Computer Communications" href="../index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="02.html" title="02 - Multiplexing"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../index.html" title="G54ACC Advanced Computer Communications"
             accesskey="P">previous</a> |</li>
        <li><a href="../../../../../index.html">Lecture Notes v1.0 documentation</a> &raquo;</li>
          <li><a href="../index.html" accesskey="U">G54ACC Advanced Computer Communications</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="internetworking">
<span id="g54accu01"></span><h1>01 - Internetworking<a class="headerlink" href="#internetworking" title="Permalink to this headline">¶</a></h1>
<div class="section" id="internet-hourglass">
<h2>Internet Hourglass<a class="headerlink" href="#internet-hourglass" title="Permalink to this headline">¶</a></h2>
<p>Applications are powered by a multitude of underlying technologies.</p>
<ul class="simple">
<li>Applications</li>
<li>Protocols</li>
<li>IP</li>
<li>Communication mediums</li>
</ul>
<p>Its hard to innovate at the IP level, since the internet as whole depends on standardisation there.</p>
</div>
<div class="section" id="ip-and-up">
<h2>IP and Up<a class="headerlink" href="#ip-and-up" title="Permalink to this headline">¶</a></h2>
<p>The IP protocol and how it interacts with the applications which user it.</p>
</div>
<div class="section" id="ip-and-down">
<h2>IP and Down<a class="headerlink" href="#ip-and-down" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Network - IP</li>
<li>Multiplexing</li>
<li>Physical</li>
<li>Ethernet</li>
<li>ADSL</li>
<li>Wireless (Mobile &amp; 802.11x)</li>
<li>Switching</li>
</ul>
</div>
<div class="section" id="ip-is-about-networking">
<h2>IP is about networking<a class="headerlink" href="#ip-is-about-networking" title="Permalink to this headline">¶</a></h2>
<p>Designed to connect heterogenous networks:</p>
<ul class="simple">
<li>Ethernet</li>
<li>WiFi</li>
<li>GPRS/3D</li>
<li>ADSL</li>
<li>Cable</li>
<li>Fibre optic</li>
</ul>
</div>
<div class="section" id="why-there-are-lots">
<h2>Why There Are Lots<a class="headerlink" href="#why-there-are-lots" title="Permalink to this headline">¶</a></h2>
<p>Telephone company&#8217;s and networking people had opposing ideas about how a network should operate.</p>
<dl class="docutils">
<dt>Protectionism</dt>
<dd>There were also proprietary technologies, which individual companies favoured against other open standards.</dd>
<dt>Monitoring</dt>
<dd>Whether communications can be monitored can be a benefit or a nuisance to different organisations.</dd>
</dl>
</div>
<div class="section" id="the-technical-reasons">
<h2>The Technical Reasons<a class="headerlink" href="#the-technical-reasons" title="Permalink to this headline">¶</a></h2>
<dl class="docutils">
<dt>Different media have different characteristics:</dt>
<dd><ul class="first last simple">
<li>Radio</li>
<li>Optical</li>
<li>Electrical</li>
<li>Broadcast &amp; point-to-point</li>
</ul>
</dd>
<dt>Different media have different ranges:</dt>
<dd><ul class="first last simple">
<li>Bluetooth vs NASA deep space network</li>
</ul>
</dd>
<dt>Real world:</dt>
<dd><ul class="first last simple">
<li>Radio noise</li>
<li>Installation concerns</li>
<li>Cost of ownership and installation (cheap connectors mean poor quality communications)</li>
</ul>
</dd>
</dl>
</div>
<div class="section" id="common-problems">
<h2>Common Problems<a class="headerlink" href="#common-problems" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>There is a need to map IP address to <em>subnetwork</em> addresses</li>
<li>You also need to deal with different packet sizes (MTU - <em>Maximum Transmission unit</em>)</li>
</ul>
</div>
<div class="section" id="ethernet-reminder">
<h2>Ethernet Reminder<a class="headerlink" href="#ethernet-reminder" title="Permalink to this headline">¶</a></h2>
<p>All hardware on a network has a 48 bit static address (MAC Address)</p>
<p>Ethernet is 802.3 (whereas 802.11 is WiFi)</p>
</div>
<div class="section" id="arp-address-resolution-protocol">
<h2>ARP Address Resolution Protocol<a class="headerlink" href="#arp-address-resolution-protocol" title="Permalink to this headline">¶</a></h2>
<p>Uses broadcast address to send packets to all devices.</p>
<p>Originally all ethernet networks (before switching) were by their nature broadcasting packets to all devices. Each device determines which packets are for them, however this behaviour would need to be maintained when packet switched networks became popular.</p>
<p>The exact same broadcast packet is send directly back to the querying device from the target host.</p>
</div>
<div class="section" id="arp-cache">
<h2>ARP Cache<a class="headerlink" href="#arp-cache" title="Permalink to this headline">¶</a></h2>
<p>Chances are there are multiple packets which need to be sent to the same devices. An ARP cache remembers the resolved addresses.</p>
<p>The ARP cache can potentially become very large, as there would be a single entry for each device on the network to which packets have been sent.</p>
<p>Since IP address may change, some sort of eviction policy is need to clear old potentially incorrect ARP cache entries. Unused enteries could be evicted after a certain time period.</p>
</div>
<div class="section" id="vc-virtual-circuit">
<h2>VC Virtual Circuit<a class="headerlink" href="#vc-virtual-circuit" title="Permalink to this headline">¶</a></h2>
<p>Some networks need a <em>virtual circuit</em> to be established before data may be sent. In these situations an IP is mapped to a virtual circuit and may require:</p>
<ul class="simple">
<li>connection setup</li>
<li>table lookup (IP -&gt; VC identifier)</li>
</ul>
<p>This process is the same as with ARP cache.</p>
</div>
<div class="section" id="ip-as-a-subnetwork">
<h2>IP as a subnetwork<a class="headerlink" href="#ip-as-a-subnetwork" title="Permalink to this headline">¶</a></h2>
<p>Sometimes it is useful to use the internet as a subnetwork. For example VPN <em>Virtual Private Network</em>:</p>
<ul class="simple">
<li>PPTP</li>
<li>L2TP</li>
<li>IPSEC</li>
<li>SSTP</li>
</ul>
<p>In these cases we want to send packets as if we were on the network the VPN tunnel is connected too. Hence we are using the internet as a subnetwork to get the packets there.</p>
</div>
<div class="section" id="fragmentation">
<h2>Fragmentation<a class="headerlink" href="#fragmentation" title="Permalink to this headline">¶</a></h2>
<p>IP allows datagram sizes of up to 64Kbytes, but the physical networks often only support smaller frame types (Maximum Transmission Unit, MTU), for example:</p>
<table border="1" class="docutils">
<colgroup>
<col width="52%" />
<col width="48%" />
</colgroup>
<thead valign="bottom">
<tr><th class="head">Medium</th>
<th class="head">MTU</th>
</tr>
</thead>
<tbody valign="top">
<tr><td>Ethernet</td>
<td>1500bytes</td>
</tr>
<tr><td>Dialup PPP</td>
<td>~256bytes</td>
</tr>
</tbody>
</table>
<p>Thus if the IP is asked to transfer data larger than the MTU that data must be divided into <strong>fragments</strong> for transmission. IP headers contain some information to help with this process:</p>
<ul class="simple">
<li>MF (More Fragment Bit)</li>
<li>ID (Identity)</li>
<li>FO (Fragment Offset)</li>
</ul>
<p><strong>Advanced Marcus:</strong> Fragmentation can occur when data is passed to the <em>network layer</em> from the <em>transport layer</em> above in an NSDU (Network Service Data Unit) or when a packet is passed to a node on the network layer in an NPDU (Network Protocol Data Unit) more commonly referred to as a packet.</p>
</div>
<div class="section" id="ip-fragmentation">
<h2>IP Fragmentation<a class="headerlink" href="#ip-fragmentation" title="Permalink to this headline">¶</a></h2>
<p>Each fragment is a new IP packet which has its own header with the original source and the same destination.</p>
<p>The identity field for related fragments is the same, thus fragments of the same data can be identified.</p>
<p>The fragment offset describes where in the original data this fragment belongs.</p>
<p>The <em>more fragments</em> flag is set on all but the last fragment, and indicates that there are more fragments after it.</p>
<img alt="../../../../../images/fragmentation.png" src="../../../../../images/fragmentation.png" />
</div>
<div class="section" id="fragmenting-packets">
<h2>Fragmenting Packets<a class="headerlink" href="#fragmenting-packets" title="Permalink to this headline">¶</a></h2>
<p>The task of fragmenting data into packets may be done by the <em>sending host</em> or an <em>intermediately router</em>.</p>
<p>IP packet fragmentation can be prevented (at the cost of dropping the packet) by settings the <em>do not fragment</em> flag. This can be useful in order to dynamically discover the MTU of a path of links. By reducing the MTU size from a large number until the packet succeeds in reaching the destination without being dropped and sending back an ICMP packet explaining that a dropped packet has occurred.</p>
</div>
<div class="section" id="reassembling-fragments">
<h2>Reassembling Fragments<a class="headerlink" href="#reassembling-fragments" title="Permalink to this headline">¶</a></h2>
<p>Done <em>only</em> by the ultimate destination of the packet, after checking the header checksum, destination, and ID before any more processing</p>
<p>Maintains a pool of fragments which are discarded after a time-out. If all fragments of a datagram are received the datagram is reassembled and handled as before.</p>
<p>If you lose one segment you lose the entire message. This bad if segment loss is likely or the number of segments is large.</p>
<p>For example NFSv2 used UDP, NFSv3 uses TCP. They made this move mainly because the block sizes when from 8K to 32K meaning far less segments and far less chance of loosing everything.</p>
</div>
<div class="section" id="id1">
<h2><a class="reference external" href="http://www.youtube.com/watch?v=_f_p0CgPeyA">Mind if I call you Bruce</a><a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<dl class="docutils">
<dt>Bluetooth</dt>
<dd><p class="first">v1.0 was IP/PPP/RFCOM/L2CAP</p>
<p class="last">v2.0 changed to BNEP in order to make Bluetooth look like Ethernet</p>
</dd>
<dt>ATM</dt>
<dd>Invented LANE (LAN Emulation) in order to make ATM look like ethernet</dd>
</dl>
<p>Technologies made themselves look like ethernet since many companies had built their protocols directly on Ethernet, and it keeps things simple.</p>
</div>
<div class="section" id="summary">
<h2>Summary<a class="headerlink" href="#summary" title="Permalink to this headline">¶</a></h2>
<ul>
<li><p class="first">IP is about interconnecting networks, which is the key to success as new technologies can be adopted</p>
</li>
<li><p class="first">The subnetworks can be heterogeneous, adapted for different circumstances</p>
</li>
<li><dl class="first docutils">
<dt>Two primary issues arise at the interface</dt>
<dd><ol class="first last arabic simple">
<li>Mapping IP addresses to subnetwork addresses</li>
<li>Dealing with MTUs</li>
</ol>
</dd>
</dl>
</li>
</ul>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../../../../../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">01 - Internetworking</a><ul>
<li><a class="reference internal" href="#internet-hourglass">Internet Hourglass</a></li>
<li><a class="reference internal" href="#ip-and-up">IP and Up</a></li>
<li><a class="reference internal" href="#ip-and-down">IP and Down</a></li>
<li><a class="reference internal" href="#ip-is-about-networking">IP is about networking</a></li>
<li><a class="reference internal" href="#why-there-are-lots">Why There Are Lots</a></li>
<li><a class="reference internal" href="#the-technical-reasons">The Technical Reasons</a></li>
<li><a class="reference internal" href="#common-problems">Common Problems</a></li>
<li><a class="reference internal" href="#ethernet-reminder">Ethernet Reminder</a></li>
<li><a class="reference internal" href="#arp-address-resolution-protocol">ARP Address Resolution Protocol</a></li>
<li><a class="reference internal" href="#arp-cache">ARP Cache</a></li>
<li><a class="reference internal" href="#vc-virtual-circuit">VC Virtual Circuit</a></li>
<li><a class="reference internal" href="#ip-as-a-subnetwork">IP as a subnetwork</a></li>
<li><a class="reference internal" href="#fragmentation">Fragmentation</a></li>
<li><a class="reference internal" href="#ip-fragmentation">IP Fragmentation</a></li>
<li><a class="reference internal" href="#fragmenting-packets">Fragmenting Packets</a></li>
<li><a class="reference internal" href="#reassembling-fragments">Reassembling Fragments</a></li>
<li><a class="reference internal" href="#id1">Mind if I call you Bruce</a></li>
<li><a class="reference internal" href="#summary">Summary</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="../index.html"
                        title="previous chapter">G54ACC Advanced Computer Communications</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="02.html"
                        title="next chapter">02 - Multiplexing</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../../../../../sources/modules/part2/semester1/G54ACC/down/01.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../../../../../search.html" method="get">
      <input type="text" name="q" size="18" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="02.html" title="02 - Multiplexing"
             >next</a> |</li>
        <li class="right" >
          <a href="../index.html" title="G54ACC Advanced Computer Communications"
             >previous</a> |</li>
        <li><a href="../../../../../index.html">Lecture Notes v1.0 documentation</a> &raquo;</li>
          <li><a href="../index.html" >G54ACC Advanced Computer Communications</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2010, Marcus Whybrow.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.0.4.
    </div>
  </body>
</html>